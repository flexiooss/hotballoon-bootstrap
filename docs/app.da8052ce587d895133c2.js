!function(t){function e(e){for(var o,s,c=e[0],u=e[1],a=e[2],_=0,h=[];_<c.length;_++)s=c[_],i[s]&&h.push(i[s][0]),i[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);for(l&&l(e);h.length;)h.shift()();return r.push.apply(r,a||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,c=1;c<n.length;c++){var u=n[c];0!==i[u]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={0:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var a=0;a<c.length;a++)e(c[a]);var l=u;r.push([135,1]),n()}({135:function(t,e,n){n(136),t.exports=n(338)},338:function(t,e,n){"use strict";n.r(e);var o=n(2),i=n(0);class r{constructor(t){this._message=t,Object(i.m)(this)}message(){return this._message}withMessage(t){var e=s.from(this);return e.message(t),e.build()}toObject(){var t={};return null!=this._message&&(t.message=this._message),t}toJSON(){return this.toObject()}}class s{constructor(){this._message=null}message(t){return Object(i.u)(t)||Object(i.k)(Object(i.y)(t),"message should be a string"),this._message=t,this}build(){return new r(this._message)}static fromObject(t){var e=new s;return void 0!==t.message&&e.message(t.message),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new s;return e.message(t.message()),e}}Object(i.n)(window[i.d],"io.flexio.component_bootstrap.actions.ActionInitialize",r),Object(i.n)(window[i.d],"io.flexio.component_bootstrap.actions.ActionInitializeBuilder",s);class c{constructor(t){this.__store=t}increment(){this.__store.set(this.__store.state().data.withCount(this.__store.state().data.count()+1))}}class u{constructor(){Object(i.m)(this)}toObject(){return{}}toJSON(){return this.toObject()}}class a{constructor(){}build(){return new u}static fromObject(t){return new a}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){return new a}}Object(i.n)(window[i.d],"io.flexio.component_counter.actions.ActionIncrementCounter",u),Object(i.n)(window[i.d],"io.flexio.component_counter.actions.ActionIncrementCounterBuilder",a);class l{constructor(t){this._count=t,Object(i.m)(this)}count(){return this._count}withCount(t){var e=_.from(this);return e.count(t),e.build()}toObject(){var t={};return null!=this._count&&(t.count=this._count),t}toJSON(){return this.toObject()}}class _{constructor(){this._count=null}count(t){return Object(i.u)(t)||Object(i.k)(Object(i.v)(t),"count should be a number"),this._count=t,this}build(){return new l(this._count)}static fromObject(t){var e=new _;return void 0!==t.count&&e.count(parseInt(t.count)),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new _;return e.count(t.count()),e}}Object(i.n)(window[i.d],"io.flexio.component_counter.stores.StoreCounter",l),Object(i.n)(window[i.d],"io.flexio.component_counter.stores.StoreCounterBuilder",_);var h=window[i.d].io.flexio.component_counter.actions.ActionIncrementCounter;class p{constructor(t,e){Object(i.l)(o.l.isDispatcher(t),"ComponentCounter:constructor: `dispatcher` argument should be a Dispatcher"),Object(i.l)(o.l.isStoreBase(e),"ComponentCounter:constructor: `store` should be a StoreInterface"),this.__dispatcher=t,this.__store=e,this.__action=null}init(){return this.__action=o.a.build(new o.b(new o.c(h),this.__dispatcher)),this}listen(){Object(i.l)(!Object(i.u)(this.__action),"ActionIncrementCounterUtils:listen: action should be initialize before using it");var t=new c(this.__store);return this.__action.listenWithCallback(e=>{t.increment()}),this}action(){return this.__action}}var d=window[i.d].io.flexio.component_counter.stores.StoreCounter,b=window[i.d].io.flexio.component_counter.stores.StoreCounterBuilder;class m{constructor(t){Object(i.l)(o.l.isComponentContext(t),"StoreCounterUtils:constructor: `componentContext` should be a ComponentContext"),this.__componentContext=t,this.__store=null,this.__storePublic=null}build(){return this.__store=this.__componentContext.addStore(o.j.InMemory(new o.h(new o.k(d,t=>Object(i.u)(t.count())?t.withCount(0):t,t=>!Object(i.u)(t.count()),t=>m.fromObject(t).build()),(new b).count(0).build()))),this.__storePublic=new o.i(this.__store),this}store(){return this.__store}storePublic(){return this.__storePublic}}var C=n(12),w=n(97),f=n.n(w),O="INCREMENT_EVENT";class j extends o.m{constructor(t,e){super(t),this.__stores=e,this.subscribeToStore(this.__stores.counterStore)}on(){return new g(t=>this._on(t))}template(){return this.html(Object(o.q)("main#main").childNodes(this.html(Object(o.q)("div").childNodes(this.html(Object(o.q)("span#Counter."+f.a.counter).text(this._addCounter())),this.html(Object(o.q)("input#increment."+f.a.increment).attributes({value:"Inc",type:"button"}).listenEvent(o.e.listen("mouseup").callback(t=>{this.dispatch(O,null)}).build()).reconciliationRules(C.d.BYPATH))))))}_addCounter(){return void 0!==this.__stores.counterStore.data().count()?this.__stores.counterStore.data().count():"counter not found"}}class g extends o.p{increment(t){return Object(i.l)(Object(i.r)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(o.f.listen(O).callback(()=>{t()}).build())}}var v=window[i.d].io.flexio.component_counter.stores.StoreCounter;class x{constructor(t){Object(i.l)(t.isTypeOf(v),"ContainerStoreCounter:constructor: `counterStore` should be a Store of CounterStore, %s given",typeof t),this.__counterStore=o.l.assertStoreBase(t)}get counterStore(){return this.__counterStore}}var A=window[i.d].io.flexio.component_counter.actions.ActionIncrementCounterBuilder;class I extends o.n{constructor(t,e,n){super(t),this.__stores=e,this.__actions=n,this.__viewCounter=null,this.__registerViews()}__registerViews(){this.__viewCounter=this.addView(new j(this,new x(this.__stores.counterStore))),this.__handleEvents()}__handleEvents(){this.__viewCounter.on().increment(t=>{this.__actions.counterIncrementAction.dispatch((new A).build())})}}class S{constructor(t){this.__counterIncrementAction=o.l.assertIsAction(t)}get counterIncrementAction(){return this.__counterIncrementAction}}class y{constructor(t,e,n,r){Object(i.l)(o.l.isComponentContext(t),"ViewContainerCounterUtils:constructor: `componentContext` should be a ComponentContext"),Object(i.l)(Object(i.s)(e),"ViewContainerCounterUtils:constructor: `parentNode` should be a Node"),Object(i.l)(o.l.isAction(n),"ViewContainerCounterUtils:constructor: `action` should be a Action"),Object(i.l)(o.l.isPublicStoreHandler(r),"ViewContainerCounterUtils:constructor: `store` should be a Store"),this.__componentContext=t,this.__parentNode=e,this.__action=n,this.__store=r}init(){var t=this.__componentContext.nextID(),e=this.__componentContext.addViewContainer(new I(new o.o(this.__componentContext,t,this.__parentNode),new x(this.__store),new S(this.__action)));return this.__componentContext.debug.log("VIEWCONTAINER_INST"),this.__componentContext.debug.object(e),this.__componentContext.debug.print(),e}}class N{constructor(t,e){Object(i.l)(o.l.isComponentContext(t),"ComponentBootstrap:constructor: `componentContext` argument should be an instanceof ComponentContext"),Object(i.l)(!!Object(i.s)(e),"ComponentBootstrap:constructor: `parentNode` argument should be NodeType"),this.__componentContext=t,this.__parentNode=e,this.__storeCounter=null,this.__actionIncrement=null}__initCounterStore(){return this.__storeCounter=new m(this.__componentContext).build(),this}__initActionIncrementCounter(){return this.__actionIncrement=new p(this.__componentContext.dispatcher(),this.__storeCounter.store()).init().listen(),this}setEventLoop(){return this.__initCounterStore(),this.__initActionIncrementCounter(),this}mountView(){Object(i.l)(Object(i.s)(this.__parentNode),"ComponentCounter:mountView: `parentNode` should be a NodeType, %s given",typeof this.__parentNode);new y(this.__componentContext,this.__parentNode,this.__actionIncrement.action(),this.__storeCounter.storePublic()).init().renderAndMount(this.__parentNode)}}var P=Symbol("__componentCounter");class B{constructor(t){Object(i.l)(t instanceof N,"ComponentCounterPublic:constructor: `component` should be a ComponentCounter"),this[P]=t}mountView(){return this[P].mountView(),this}}class z{static buildSimpleWithMessage(t,e,n){return Object(i.l)(o.l.isHotballoonApplication(e),"ComponentCounterBuilder:constructor: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof e),Object(i.l)(!!Object(i.s)(n),"ComponentCounterBuilder:constructor: `parentNode` argument should be NodeType, %s given",typeof n),console.log(t),new B(new N(e.addComponentContext(),n).setEventLoop())}}var E=window[i.d].io.flexio.component_bootstrap.actions.ActionInitialize;class V{constructor(t,e,n){Object(i.l)(o.l.isDispatcher(t),"ActionInitializeUtils:constructor: `dispatcher` should be a Dispatcher"),Object(i.l)(o.l.isHotballoonApplication(e),"ActionInitializeUtils:constructor: `application` should be a HotBalloonApplication"),Object(i.l)(Object(i.s)(n),"ActionInitializeUtils:constructor: `parentElement` should be an Element"),this.__dispatcher=t,this.__action=null,this.__application=e,this.__parentElement=n}init(){return this.__action=o.a.build(new o.b(new o.c(E,t=>Object(i.u)(t.message())?t.withMessage("Default message"):t,t=>!Object(i.u)(t.message())),this.__dispatcher)),console.log(this.__action),this}listen(){return Object(i.l)(!Object(i.u)(this.__action),"ActionInitializeUtils:listen: action should be initialize before using it"),this.__action.listenWithCallback(t=>{z.buildSimpleWithMessage(t.message(),this.__application,this.__parentElement).mountView()}),this}action(){return this.__action}}var T=window[i.d].io.flexio.component_bootstrap.actions.ActionInitializeBuilder;class k{constructor(t,e){Object(i.l)(o.l.isComponentContext(t),"ComponentBootstrap:constructor: `componentContext` argument should be a ComponentContext, %s given",typeof t),Object(i.l)(!!Object(i.s)(e),"ComponentBootstrap:constructor: `parentNode` argument should be a NodeType, %s given",typeof e),this.__componentContext=t,this.__parentNode=e}__initActionInitialize(){return this.__actionInitialize=new V(this.__componentContext.dispatcher(),this.__componentContext.APP(),this.__parentNode).init().listen(),this}setEventLoop(){return this.__initActionInitialize(),this}dispatchActionInitialize(t){Object(i.l)(o.l.isAction(this.__actionInitialize.action()),"ComponentBootstrap:dispatchActionInitialize: ActionInitialize should be initialized before using it"),this.__actionInitialize.action().dispatch((new T).message(t).build())}get componentContext(){return this.__componentContext}}var J=Symbol("__componentBootstrapPublic");class M{constructor(t){Object(i.l)(t instanceof k,"ComponentCounterPublic:constructor: `component` should be a ComponentBootstrap"),this[J]=t}dispatchActionInitialize(t){this[J].dispatchActionInitialize(t)}}n.d(e,"APP",function(){return H});var U,H=new o.g("CounterApplication",new o.d),D=document.body;U=H,class{static build(t,e){return Object(i.k)(o.l.isHotballoonApplication(t),"ComponentBootstrapBuilder:constructor: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof t),Object(i.k)(!!Object(i.s)(e),"ComponentBootstrapBuilder:constructor: `parentNode` argument should be NodeType, %s given",typeof e),new M(new k(t.addComponentContext(),e).setEventLoop())}}.build(U,D).dispatchActionInitialize("Rutabaga !!!")},97:function(t,e,n){t.exports={increment:"bb08",counter:"_8f15"}}});